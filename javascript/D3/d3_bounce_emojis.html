
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Emoji Bounce</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js"></script>
    </head>
    <body>
        <script type="text/javascript">
// Your beautiful D3 code will go here
//d3.select("body").append("p").text("hello rob")
var dataset = [ "Simon" ]
var w = 1000,
    h = 500

var body = d3.select("body")

var header = body.append("h1")
    .text("Move Emojis Move!")

var flexiDiv = body.append("div")
    .style("display","flex")
    .style("flex-wrap","wrap")
    .style("flex_direction", "row")
    .style("justify-content","center")

var svg = d3.select("div")
    .append("svg")
    .attr("width",w)
    .attr("height",h)
    .style("background","#f4f4f4")


var emojis_list = ['ðŸ˜€','ðŸ˜¬','ðŸ˜‚','ðŸ˜„','ðŸ˜…','ðŸ˜‡','â˜ºï¸','ðŸ˜‹','ðŸ˜˜','ðŸ˜š','ðŸ˜œ','ðŸ¤‘','ðŸ˜Ž','ðŸ¤—','ðŸ˜³','ðŸ™„','ðŸ˜¤','ðŸ˜±','ðŸ˜¨','ðŸ˜°','ðŸ˜¥','ðŸ¤’','ðŸ˜­','ðŸ’©','ðŸ‘¹','ðŸ’€','ðŸ‘»','ðŸ‘½','ðŸ¤–','ðŸ˜º','ðŸ˜¹','ðŸ˜»','ðŸ˜¼','ðŸ˜½','ðŸ™€','ðŸ˜¿','ðŸ˜¾','ðŸ™Œ','ðŸ‘','ðŸ‘‹','ðŸ‘','ðŸ‘Š','âœŠ','âœŒï¸','ðŸ‘Œ','âœ‹','ðŸ‘','ðŸ’ª','â˜ï¸','ðŸ™','ðŸ‘†','ðŸ–','ðŸ¤˜','ðŸ––','âœï¸','ðŸ’…','ðŸ‘„','ðŸ‘…','ðŸ‘‚','ðŸ‘','ðŸ‘€','ðŸ‘¶','ðŸ‘¦','ðŸ‘§','ðŸ‘¨','ðŸ‘©','ðŸ‘±','ðŸ‘´','ðŸ‘µ','ðŸ‘²','ðŸ‘³','ðŸ‘·','ðŸ’‚','ðŸ•µ','ðŸŽ…','ðŸ‘¼','ðŸ‘¸','ðŸ‘°','ðŸš¶','ðŸƒ','ðŸ’ƒ','ðŸ‘¯','ðŸ‘«','ðŸ‘¬','ðŸ‘­','ðŸ™‡','ðŸ’','ðŸ™…','ðŸ™†','ðŸ™‹','ðŸ™Ž','ðŸ™','ðŸ’‡','ðŸ’†','ðŸ’‘','ðŸ‘¨â€â¤ï¸â€ðŸ‘¨','ðŸ’','ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘©','ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨','ðŸ‘©â€ðŸ‘©â€ðŸ‘¦','ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦','ðŸ‘®','ðŸ‘š','ðŸ‘•','ðŸ‘–','ðŸ‘”','ðŸ‘—','ðŸ‘™','ðŸ‘˜','ðŸ’„','ðŸ’‹','ðŸŽ©','ðŸ‘Ÿ','ðŸ‘ž','ðŸ‘¢','ðŸ‘¡','ðŸ‘ ','ðŸ‘£','â›‘','ðŸŽ“','ðŸ‘‘','ðŸŽ’','ðŸ‘','ðŸ‘›','ðŸ‘œ','ðŸ’¼','ðŸŒ‚','ðŸ’','ðŸ•¶','ðŸ‘“','ðŸ¯','ðŸ¦','ðŸ®','ðŸ·','ðŸ½','ðŸ¸','ðŸ™','ðŸµ','ðŸ¦','ðŸ§','ðŸ”','ðŸ’','ðŸ™‰','ðŸ™ˆ','ðŸ£','ðŸ¥','ðŸº','ðŸ—','ðŸ´','ðŸ¦„','ðŸ','ðŸ›','ðŸ¢','ðŸ¦€','ðŸ¦‚','ðŸ•·','ðŸœ','ðŸž','ðŸŒ','ðŸ ','ðŸŸ','ðŸ¡','ðŸ¬','ðŸ‹','ðŸŠ','ðŸ†','ðŸ˜','ðŸ«','ðŸª','ðŸ„','ðŸ‚','ðŸƒ','ðŸ','ðŸ‘','ðŸ€','ðŸ','ðŸ“','ðŸ¦ƒ','ðŸ‰','ðŸ¾','ðŸ¿','ðŸ‡','ðŸˆ','ðŸ©','ðŸ•','ðŸ²','ðŸŒµ','ðŸŽ„','ðŸŒ²','ðŸŒ´','ðŸŒ±','ðŸŒ¿','ðŸŒ¾','ðŸ','ðŸ‚','ðŸƒ','ðŸŽ‹','ðŸŽ','ðŸ€','ðŸŒº','ðŸŒ»','ðŸŒ¹','ðŸŒ·','ðŸŒ¼','ðŸŒ¸','ðŸ’','ðŸ„','ðŸŽƒ','ðŸš','ðŸŒŽ','ðŸŒ','ðŸŒ','ðŸŒ•','ðŸŒ–','ðŸŒ—','ðŸŒ˜','ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ”','ðŸŒš','ðŸŒ','ðŸŒ›','ðŸŒœ','ðŸŒž','â­ï¸','ðŸŒŸ','ðŸ’«','âœ¨','â˜„ï¸','ðŸŒ¥','ðŸŒ¦','ðŸŒ§','â›ˆ','âš¡ï¸','ðŸ”¥','â„ï¸','ðŸŒ¨','â˜”ï¸','â˜‚ï¸','ðŸŒª','ðŸ’¨','â˜ƒï¸','â›„ï¸','ðŸ’§','ðŸ’¦','ðŸŒŠ','ðŸ','ðŸŽ','ðŸ','ðŸ‹','ðŸŒ','ðŸ‰','ðŸ‡','ðŸŒ¶','ðŸ…','ðŸ','ðŸ‘','ðŸˆ','ðŸ“','ðŸŒ½','ðŸ ','ðŸ¯','ðŸž','ðŸ—','ðŸ§€','ðŸ–','ðŸ¤','ðŸŒ¯','ðŸŒ®','ðŸ','ðŸ•','ðŸŒ­','ðŸŸ','ðŸ”','ðŸ³','ðŸœ','ðŸ²','ðŸ¥','ðŸ£','ðŸ±','ðŸ›','ðŸ™','ðŸš','ðŸŽ‚','ðŸ°','ðŸ¦','ðŸ¨','ðŸ§','ðŸ¡','ðŸ¢','ðŸ˜','ðŸ®','ðŸ¬','ðŸ­','ðŸ«','ðŸ¿','ðŸ©','ðŸª','ðŸº','â˜•ï¸','ðŸµ','ðŸ¶','ðŸ¹','ðŸ»','ðŸ¼','ðŸ´','ðŸ·','ðŸ½','âš½ï¸','ðŸ€','ðŸˆ','âš¾ï¸','ðŸŽ¾','ðŸ','ðŸ‰','ðŸŽ±','ðŸŽ¿','ðŸ','ðŸ‘','ðŸ“','ðŸŒ','â›³ï¸','â›·','ðŸ‚','â›¸','ðŸ¹','ðŸŽ£','ðŸš£','ðŸŠðŸ¼','ðŸ„','ðŸ†','ðŸ•´','ðŸ‡','ðŸšµ','ðŸš´','ðŸ‹','â›¹','ðŸ›€','ðŸŽ½','ðŸ…','ðŸŽ–','ðŸŽ—','ðŸµ','ðŸŽ«','ðŸŽŸ','ðŸŽ­','ðŸŽº','ðŸŽ·','ðŸŽ¹','ðŸŽ¤','ðŸŽª','ðŸŽ¨','ðŸŽ¸','ðŸŽ»','ðŸŽ¬','ðŸŽ®','ðŸ‘¾','ðŸŽ¯','ðŸŽ²','ðŸŽ°','ðŸŽ³','ðŸš—','ðŸš•','ðŸš™','ðŸšŒ','ðŸšŽ','ðŸŽ','ðŸš“','ðŸš’','ðŸš','ðŸš›','ðŸšœ','ðŸ','ðŸš²','ðŸš¨','ðŸšƒ','ðŸšŸ','ðŸš ','ðŸš¡','ðŸš–','ðŸš˜','ðŸš','ðŸš”','ðŸš‹','ðŸš','ðŸš„','ðŸš…','ðŸšˆ','ðŸšž','ðŸš‚','ðŸš†','ðŸ›¬','ðŸ›«','âœˆï¸','ðŸ›©','ðŸš','ðŸš‰','ðŸšŠ','ðŸš‡','â›µï¸','ðŸ›¥','ðŸš¤','â›´','ðŸš€','ðŸ›³','ðŸ›°','ðŸ’º','ðŸ','ðŸš¥','ðŸš¦','ðŸš','â›½ï¸','ðŸš§','âš“ï¸','ðŸŽ¡','ðŸŽ¢','ðŸŽ ','ðŸ—','ðŸŒ','ðŸ—¼','ðŸ­','â›²ï¸','â›ºï¸','ðŸ•','ðŸ—¾','ðŸŒ‹','ðŸ—»','ðŸ”','â›°','ðŸŽ‘','ðŸž','ðŸ›£','ðŸ›¤','ðŸŒ…','ðŸŒ„','ðŸœ','ðŸ–','ðŸ','ðŸŽ‡','ðŸŒ ','ðŸŒŒ','ðŸŒ‰','ðŸŒƒ','ðŸ™','ðŸŒ†','ðŸŒ‡','ðŸŽ†','ðŸŒˆ','ðŸ˜','ðŸ°','ðŸ¯','ðŸ ','ðŸ—½','ðŸŸ','ðŸ¡','ðŸš','ðŸ¢','ðŸ¬','ðŸ£','ðŸ¤','ðŸ¥','ðŸ¦','ðŸ•Œ','â›ªï¸','ðŸ›','ðŸ’’','ðŸ©','ðŸ«','ðŸª','ðŸ¨','ðŸ•','ðŸ•‹','â›©','ðŸ•¹','ðŸ’½','ðŸ’¾','ðŸ’¿','ðŸ“¼','ðŸ“·','ðŸ“¹','ðŸŽ¥','â˜Žï¸','â±','ðŸŽ™','ðŸ“»','ðŸ“º','ðŸ“ ','ðŸ“Ÿ','â²','â°','ðŸ•°','â³','ðŸ“¡','ðŸ”‹','ðŸ’´','ðŸ’µ','ðŸ’¸','ðŸ›¢','ðŸ”¦','ðŸ’¡','ðŸ’¶','ðŸ’·','ðŸ’°','ðŸ’³','ðŸ’Ž','ðŸ”¨','ðŸ’£','ðŸ”«','ðŸ”ª','â˜ ï¸','ðŸ”®','ðŸ’ˆ','ðŸ’Š','ðŸ’‰','ðŸ”–','ðŸš¿','ðŸ”‘','ðŸ›‹','ðŸšª','ðŸ›Ž','ðŸ–¼','ðŸŽ','ðŸŽ€','ðŸŽ','ðŸŽˆ','ðŸ›','â›±','ðŸ—º','ðŸŽŠ','ðŸŽ‰','ðŸŽŽ','ðŸŽ','ðŸŽŒ','ðŸ®','ðŸ“®','ðŸ“«','ðŸ“¯','ðŸ“Š','ðŸ—ƒ','ðŸ“‡','ðŸ“…','ðŸ“‰','ðŸ“ˆ','ðŸ“°','ðŸ“•','ðŸ“™','ðŸ“’','âœ‚ï¸','ðŸ–‡','ðŸ“–','ðŸ“š','ðŸ“Œ','ðŸ“','ðŸš©','â¤ï¸','ðŸ’”','â£ï¸','ðŸ’•','ðŸ’“','ðŸ’—','ðŸ’–','ðŸ’˜','ðŸ’','ðŸ’ ','ðŸ””']


  var randomEmojis =  function(options) {
      return andomEmoji = emojis_list[Math.floor(Math.random() * emojis_list.length)];
  }

var emojis = function(x,y,id,text){
  this.x = x
  this.y = y
  this.id = id
  this.vx = (Math.random() - 1) * 4
  this.vy = (Math.random() - 1) * 4
  this.text = randomEmojis()
  this.weight = (Math.random() + 1) * 50
  this.data = [this]
  this.Draw = function(){
    var emojis = svg.selectAll("#"+this.id)
                .data(this.data)
    var updated = svg.selectAll("#"+this.id)
        .data(this.data)
        .enter()
        .append("text")
        .merge(emojis)
        .text(function(d){
          return d.text
        })
        .attr("id",function(d){
          return d.id
        })
        .attr("x",function(d){
          return d.x
        })
        .attr("y",function(d){
          return d.y
        })
        .attr("font-size",function(d){
          return d.weight
        })
        .attr("text-anchor","middle")
        .attr("outline","1px solid transparent;") 
        .attr("alignment-baseline","central")

        this.box = d3.select("#" + this.id).node().getBBox()

    }

    this.Move = function(){
      if(this.x > w - this.box.width/2 || this.x < this.box.width/2){
          this.vx *= -1
      }
      if(this.y > h - this.box.height/2   || this.y <this.box.height/2){
          this.vy *= -1
      }
      this.x += this.vx
      this.y += this.vy
      this.Draw()
    }
  }

Emojis = []
for(var i = 0;i<10;i++){
  weight = Math.random() * 100
  var entry = new emojis(w/2,h/2,"e"+i)
  entry.Draw()
  Emojis.push(entry)
}

d3.timer(function(){
  for(var i = 0;i< Emojis.length;i++){
    Emojis[i].Move()
  }
}, 500)



        </script>
    </body>
</html>     