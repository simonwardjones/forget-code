
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Emoji Bounce</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js"></script>
    </head>
    <body>
        <script type="text/javascript">
// Your beautiful D3 code will go here
//d3.select("body").append("p").text("hello rob")
var dataset = [ "Simon" ]
var w = 1000,
    h = 500

var body = d3.select("body")

var header = body.append("h1")
    .text("Move Emojis Move!")

var flexiDiv = body.append("div")
    .style("display","flex")
    .style("flex-wrap","wrap")
    .style("flex_direction", "row")
    .style("justify-content","center")

var svg = d3.select("div")
    .append("svg")
    .attr("width",w)
    .attr("height",h)
    .style("background","#f4f4f4")


var emojis_list = ['😀','😬','😂','😄','😅','😇','☺️','😋','😘','😚','😜','🤑','😎','🤗','😳','🙄','😤','😱','😨','😰','😥','🤒','😭','💩','👹','💀','👻','👽','🤖','😺','😹','😻','😼','😽','🙀','😿','😾','🙌','👏','👋','👍','👊','✊','✌️','👌','✋','👐','💪','☝️','🙏','👆','🖐','🤘','🖖','✍️','💅','👄','👅','👂','👁','👀','👶','👦','👧','👨','👩','👱','👴','👵','👲','👳','👷','💂','🕵','🎅','👼','👸','👰','🚶','🏃','💃','👯','👫','👬','👭','🙇','💁','🙅','🙆','🙋','🙎','🙍','💇','💆','💑','👨‍❤️‍👨','💏','👩‍❤️‍💋‍👩','👨‍❤️‍💋‍👨','👩‍👩‍👦','👨‍👨‍👦','👮','👚','👕','👖','👔','👗','👙','👘','💄','💋','🎩','👟','👞','👢','👡','👠','👣','⛑','🎓','👑','🎒','👝','👛','👜','💼','🌂','💍','🕶','👓','🐯','🦁','🐮','🐷','🐽','🐸','🐙','🐵','🐦','🐧','🐔','🐒','🙉','🙈','🐣','🐥','🐺','🐗','🐴','🦄','🐝','🐛','🐢','🦀','🦂','🕷','🐜','🐞','🐌','🐠','🐟','🐡','🐬','🐋','🐊','🐆','🐘','🐫','🐪','🐄','🐂','🐃','🐏','🐑','🐀','🐁','🐓','🦃','🐉','🐾','🐿','🐇','🐈','🐩','🐕','🐲','🌵','🎄','🌲','🌴','🌱','🌿','🌾','🍁','🍂','🍃','🎋','🎍','🍀','🌺','🌻','🌹','🌷','🌼','🌸','💐','🍄','🎃','🐚','🌎','🌍','🌏','🌕','🌖','🌗','🌘','🌑','🌒','🌓','🌔','🌚','🌝','🌛','🌜','🌞','⭐️','🌟','💫','✨','☄️','🌥','🌦','🌧','⛈','⚡️','🔥','❄️','🌨','☔️','☂️','🌪','💨','☃️','⛄️','💧','💦','🌊','🍏','🍎','🍐','🍋','🍌','🍉','🍇','🌶','🍅','🍍','🍑','🍈','🍓','🌽','🍠','🍯','🍞','🍗','🧀','🍖','🍤','🌯','🌮','🍝','🍕','🌭','🍟','🍔','🍳','🍜','🍲','🍥','🍣','🍱','🍛','🍙','🍚','🎂','🍰','🍦','🍨','🍧','🍡','🍢','🍘','🍮','🍬','🍭','🍫','🍿','🍩','🍪','🍺','☕️','🍵','🍶','🍹','🍻','🍼','🍴','🍷','🍽','⚽️','🏀','🏈','⚾️','🎾','🏐','🏉','🎱','🎿','🏏','🏑','🏓','🏌','⛳️','⛷','🏂','⛸','🏹','🎣','🚣','🏊🏼','🏄','🏆','🕴','🏇','🚵','🚴','🏋','⛹','🛀','🎽','🏅','🎖','🎗','🏵','🎫','🎟','🎭','🎺','🎷','🎹','🎤','🎪','🎨','🎸','🎻','🎬','🎮','👾','🎯','🎲','🎰','🎳','🚗','🚕','🚙','🚌','🚎','🏎','🚓','🚒','🚐','🚛','🚜','🏍','🚲','🚨','🚃','🚟','🚠','🚡','🚖','🚘','🚍','🚔','🚋','🚝','🚄','🚅','🚈','🚞','🚂','🚆','🛬','🛫','✈️','🛩','🚁','🚉','🚊','🚇','⛵️','🛥','🚤','⛴','🚀','🛳','🛰','💺','🏁','🚥','🚦','🚏','⛽️','🚧','⚓️','🎡','🎢','🎠','🏗','🌁','🗼','🏭','⛲️','⛺️','🏕','🗾','🌋','🗻','🏔','⛰','🎑','🏞','🛣','🛤','🌅','🌄','🏜','🏖','🏝','🎇','🌠','🌌','🌉','🌃','🏙','🌆','🌇','🎆','🌈','🏘','🏰','🏯','🏠','🗽','🏟','🏡','🏚','🏢','🏬','🏣','🏤','🏥','🏦','🕌','⛪️','🏛','💒','🏩','🏫','🏪','🏨','🕍','🕋','⛩','🕹','💽','💾','💿','📼','📷','📹','🎥','☎️','⏱','🎙','📻','📺','📠','📟','⏲','⏰','🕰','⏳','📡','🔋','💴','💵','💸','🛢','🔦','💡','💶','💷','💰','💳','💎','🔨','💣','🔫','🔪','☠️','🔮','💈','💊','💉','🔖','🚿','🔑','🛋','🚪','🛎','🖼','🎁','🎀','🎏','🎈','🛍','⛱','🗺','🎊','🎉','🎎','🎐','🎌','🏮','📮','📫','📯','📊','🗃','📇','📅','📉','📈','📰','📕','📙','📒','✂️','🖇','📖','📚','📌','📍','🚩','❤️','💔','❣️','💕','💓','💗','💖','💘','💝','💠','🔔']


  var randomEmojis =  function(options) {
      return andomEmoji = emojis_list[Math.floor(Math.random() * emojis_list.length)];
  }

var emojis = function(x,y,id,text){
  this.x = x
  this.y = y
  this.id = id
  this.vx = (Math.random() - 1) * 4
  this.vy = (Math.random() - 1) * 4
  this.text = randomEmojis()
  this.weight = (Math.random() + 1) * 50
  this.data = [this]
  this.Draw = function(){
    var emojis = svg.selectAll("#"+this.id)
                .data(this.data)
    var updated = svg.selectAll("#"+this.id)
        .data(this.data)
        .enter()
        .append("text")
        .merge(emojis)
        .text(function(d){
          return d.text
        })
        .attr("id",function(d){
          return d.id
        })
        .attr("x",function(d){
          return d.x
        })
        .attr("y",function(d){
          return d.y
        })
        .attr("font-size",function(d){
          return d.weight
        })
        .attr("text-anchor","middle")
        .attr("outline","1px solid transparent;") 
        .attr("alignment-baseline","central")

        this.box = d3.select("#" + this.id).node().getBBox()

    }

    this.Move = function(){
      if(this.x > w - this.box.width/2 || this.x < this.box.width/2){
          this.vx *= -1
      }
      if(this.y > h - this.box.height/2   || this.y <this.box.height/2){
          this.vy *= -1
      }
      this.x += this.vx
      this.y += this.vy
      this.Draw()
    }
  }

Emojis = []
for(var i = 0;i<10;i++){
  weight = Math.random() * 100
  var entry = new emojis(w/2,h/2,"e"+i)
  entry.Draw()
  Emojis.push(entry)
}

d3.timer(function(){
  for(var i = 0;i< Emojis.length;i++){
    Emojis[i].Move()
  }
}, 500)



        </script>
    </body>
</html>     